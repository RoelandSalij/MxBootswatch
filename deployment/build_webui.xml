<?xml version="1.0" encoding="utf-8"?>
<project name="Bootswatch" default="deploy" basedir="\\psf\Home\Documents\GitHub\MxBootswatch">
  <description>Ant buildfile for web UI deployment. Generated by the Mendix Business Modeler.</description>
  <taskdef name="gzipall" classname="com.mendix.ant.GZipAll" />
  <property name="theme" location="theme" />
  <property name="deployment" location="deployment" />
  <property name="web" location="${deployment}/web" />
  <property name="tmp" location="${deployment}/tmp" />
  <target name="clean" description="clean the deployment directory">
    <delete dir="${web}" />
  </target>
  <target name="deploy" description="deploy the project">
    <delete dir="${web}/forms" />
    <unzip src="\\psf\Home\Documents\GitHub\MxBootswatch\widgets\FormatString.mpk" dest="${web}/widgets" />
    <unzip src="\\psf\Home\Documents\GitHub\MxBootswatch\widgets\HTMLSnippet.mpk" dest="${web}/widgets" />
    <unzip src="\\psf\Home\Documents\GitHub\MxBootswatch\widgets\RadioButtonList.mpk" dest="${web}/widgets" />
    <unzip src="\\psf\Home\Documents\GitHub\MxBootswatch\widgets\SprintrFeedbackWidget.mpk" dest="${web}/widgets" />
    <unzip src="${theme}/bootswatch.zip" dest="${web}" />
  </target>
  <target name="gzip" description="gzip theme and widget files">
    <gzip src="${web}/widgets/widgets.js" destfile="${web}/widgets/widgets.js.gz" />
    <gzip src="${web}/widgets/widgets.css" destfile="${web}/widgets/widgets.css.gz" />
    <mkdir dir="${tmp}" />
    <unzip src="${theme}/bootswatch.zip" dest="${tmp}" />
    <gzipall>
      <fileset dir="${tmp}">
        <include name="**/*.css" />
        <include name="**/*.html" />
        <include name="**/*.js" />
      </fileset>
      <fileset dir="${web}">
        <include name="**/*.mxf" />
      </fileset>
    </gzipall>
    <copy todir="${web}" overwrite="true">
      <fileset dir="${tmp}" />
    </copy>
    <delete dir="${tmp}" />
  </target>
</project>